<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Product</title>
    <link rel="stylesheet" href="/css/general.css" />
    <link rel="stylesheet" href="/css/singleproduct.css" />
  </head>
  <body>
    <nav>
      <div class="nav-ctn">
        <a href="/">
          <div class="brand-name">
            <span class="green1"> Honeycare </span> 
            <span class="blue1"> Pharmacy and Beauty Hub </span>
          </div>
        </a>
        <div class="brand-logo">
          <a href="/">
            <img
            src="/img/logo/logo.png"
            alt="Honeycare pharmacy and Beauty Hub Logo"
          />
          </a>
        </div>
        <div class="flex">
            <div class="search-div">
                    <label class="search">
                        <svg xmlns="http://www.w3.org/2000/svg" width="31.042" height="28.512" viewBox="0 0 31.042 28.512">
                            <g id="Group_118" data-name="Group 118" transform="translate(1.5 1.5)">
                                <path id="Path_1" data-name="Path 1" d="M25.816,14.119c0,5.313-4.772,9.619-10.658,9.619S4.5,19.432,4.5,14.119,9.272,4.5,15.158,4.5,25.816,8.807,25.816,14.119Z" transform="translate(-4.5 -4.5)" fill="none" stroke="var(--green)" stroke-linecap="round" stroke-linejoin="round" stroke-width="3"/>
                                <path id="Path_2" data-name="Path 2" d="M34.148,33.5l-9.173-8.53" transform="translate(-6.727 -8.613)" fill="none" stroke="var(--green)" stroke-linecap="round" stroke-linejoin="round" stroke-width="3"/>
                            </g>
                        </svg>
                    </label>
                    <input type="search" placeholder="Cosmetics, Drugs ">

                </div>
        <a href="/cart">
          <div class="nav-extra">
            <label for="cart" class="bg-green1" id="cart-notice">1</label>
          <img src="/img/icons/Icon feather-shopping-cart.png" alt="" />
        </div>
        </a>
        </div>
                
            <!-- </div> -->
            </div>
            <div class="float">
                    <input type="search" placeholder="Cosmetics, Drugs" >
            </div>
    </nav>
    <div class="section width">
      <div class="main-singleproduct">
        <div class="direction-section">
          <ul>
            <li><a href="">Home ></a></li>
            <li id="direction-cat">Health ></li>
            <li><a href="/subcategory/health" id="direction-subcat">Vitamins ></a></li>
            <li id="direction-name">fluvic acid</li>
          </ul>
        </div>
        <div class="single-product-main">
          <!-- <h3 class="center">Vitamins</h3> -->
          <div class="singleproduct-ctn test-overide" id="singleproduct-ctn">
            <!-- <div class="singleproduct-product">
              <img alt="honeycare pharmacy" src="/img/product/allproducts/product4.png" alt="" />
            </div>
            <div class="singleproduct-description">
              <div class="">
                <h1>Fluvic Acid</h1>
                <div class="description">
                    Lorem ipsum dolor sit amet consectetur adipisicing elit. Illum
                    unde earum ut? Eum sunt hic itaque, tempore quasi suscipit
                    perspiciatis.
                </div>
                <div class="flex-sb">
                    <div class="price">N5,000</div>
                    
                </div>
                <div class="addtocart">
                    <div class="qnty">
                      <span class="minus" onclick = "itemQuantity('decrease')">-</span>
                      <input type="number" value="1" id ="singlenumber"/>
                      <span class="add" onclick = "itemQuantity('increase')">+</span>
                    </div>
                    <div class="btn btn-primary" onclick= 'addsingletocart({
  "id": 4,
  "name": "Fluvic Acid",
  "description":
    "Lorem ipsum, dolor sit amet consectetur adipisicing elit. Alias, modi?",
  image: "/img/product/allproducts/product1.png",
  price: 10000,
  category: "health",
  subcategory: "Vitamins",
  section: "health",
})'>Add to cart</div>
                    
                </div>
              </div>
            </div> -->
            </div>
          
        </div>
            <div class="singleproduct-details">
              <div class="details">
                <div class="accordion active-accordion">
                  <div class="head" onclick="accordion(this)"><span>Reach us</span> <span>+</span></div>
                  <div class="content">
                    <ul>
                      <li><a href="">whatsapp 0905553434</a></li>
                      <li><a href="tel:09059095434">Call: 0905553434</a></li>
                    </ul>
                  </div>
                </div>
                <div class="accordion">
                  <div class="head" onclick="accordion(this)">
                    <span>Ingredients</span> <span>+</span>
                  </div>
                  <div class="content" id="ingredients">
                    Lorem ipsum dolor sit amet consectetur, adipisicing elit.
                    Repellendus maiores animi non. Quas vel amet explicabo
                    alias, magnam sequi tempora?
                  </div>
                </div>
                <div class="accordion">
                  <div class="head" onclick="accordion(this)"><span>Uses</span> <span>+</span></div>
                  <div class="content" id="uses">
                    Lorem ipsum dolor sit amet consectetur, adipisicing elit.
                    Repellendus maiores animi non. Quas vel amet explicabo
                    alias, magnam sequi tempora?
                  </div>
                </div>
              </div>
             
            </div>

            
      </div>

      <div class="other-products">
          <h3>Similar Products</h3>
          <div class="suggestion scroll-section">
              <!-- <div class="product">
                <a href="/product/health/category/singleproduct/productName">
                    <div class="product-img">
                          <img src="/img/product/allproducts/product1.png" alt="honeycare pharmacy fluvic acid">
                    </div>
                  <div class="product-name">
                      Lorem ipsum, dolor sit amet consectetur adipisicing elit. Alias, modi?
                  </div>
                  <div class="product-price price">N5,000</div>
                </a>
                  <div class="addtocart-btn btn bg-green1">
                      <img src="/img/icons/Icon material-add-shopping-cart.png" alt="">
                  </div>
              </div>
              <div class="product">
                <a href="/product/health/category/singleproduct/productName">
                    <div class="product-img">
                          <img src="/img/product/allproducts/product4.png" alt="honeycare pharmacy fluvic acid">
                    </div>
                  <div class="product-name">
                      Lorem ipsum, dolor sit amet consectetur adipisicing elit. Alias, modi?
                  </div>
                  <div class="product-price price">N5,000</div>
                </a>
                  <div class="addtocart-btn btn bg-green1">
                      <img src="/img/icons/Icon material-add-shopping-cart.png" alt="">
                  </div>
              </div>
              <div class="product">
                <a href="/product/health/category/singleproduct/productName">
                    <div class="product-img">
                          <img src="/img/product/allproducts/product3.png" alt="honeycare pharmacy fluvic acid">
                    </div>
                  <div class="product-name">
                      Lorem ipsum, dolor sit amet consectetur adipisicing elit. Alias, modi?
                  </div>
                  <div class="product-price price">N5,000</div>
                </a>
                  <div class="addtocart-btn btn bg-green1">
                      <img src="/img/icons/Icon material-add-shopping-cart.png" alt="">
                  </div>
              </div> -->
              
          </div>      
        </div>
    <footer>
          <ul>
              <li><a href="/contact">Contact Us</a></li>
              <li><a href="/terms">Terms and conditions</a></li>
              <li><a href="/privacy">Privacy policy</a></li>
          </ul>
          <p>Copyright Honeycare</p>
      </footer>
    </div>


    <script>
      async function accordion(position){
        var y = position.parentElement.parentElement.children;
        for(i=0; i<y.length; i++){ 
          y[i].classList.remove("active-accordion")
        }
        position.parentElement.classList.add("active-accordion")
      }

      var thiscategory = window.location.href.split("/product/")[1].split("/singleproduct/")[0].split("/")[0]
      var thissubcategory = window.location.href.split("/product/")[1].split("/singleproduct/")[0].split("/")[1]
      var thisid = window.location.href.split("/product/")[1].split("/singleproduct/")[1]


      function loadproduct(data){
        var m = JSON.stringify(data.producttosend);
        var singleproductCtn = document.getElementById("singleproduct-ctn");
        document.getElementById("ingredients").innerHTML = data.producttosend.ingredients;
        document.getElementById("uses").innerHTML = data.producttosend.uses;
        singleproductCtn.innerHTML = `
          <div class="singleproduct-product">
              <img alt="honeycare pharmacy ${data.producttosend.name}, price: ${data.producttosend.price}" src="${data.producttosend.image}"  />
            </div>
            <div class="singleproduct-description">
              <div class="">
                <h1>${data.producttosend.name}</h1>
                <div class="description">
                    ${data.producttosend.description}
                </div>
                <div class="flex-sb">
                    <div class="price">N${data.producttosend.price.toLocaleString()}</div>
                    
                </div>
                <div class="addtocart">
                    <div class="qnty">
                      <span class="minus" onclick = "itemQuantity('decrease')">-</span>
                      <input type="number" value="1" id="singlenumber"/>
                      <span class="add" onclick = "itemQuantity('increase')">+</span>
                    </div>
                    <div class="btn btn-primary" onclick='addsingletocart(${m})'>Add to cart</div>
                    <!-- <div class="favourite">whatsapp</div>
                    <div class="favourite">Share</div> -->
                </div>
              </div>
            </div>
        
        `;



      }

      function loadsimilarproducts(data){
        console.log(data)
        var similarctn = document.getElementsByClassName("scroll-section")[0];
        similarctn.innerHTML = "";
        data.forEach(product => {
          similarctn.innerHTML += `
             <div class="product">
                <a href="/product/${product.category}/${product.subcategory}/singleproduct/${product._id}">
                    <div class="product-img">
                          <img src="${product.image}" alt="honeycare pharmacy ${product.name}, price: ${product.price}">
                    </div>
                  <div class="product-name">
                      ${product.name}
                  </div>
                  <div class="product-price price">${product.price}</div>
                </a>
                  <div class="addtocart-btn btn bg-green1" onclick='addtocart(${JSON.stringify(product)})'>
                      <img src="/img/icons/Icon material-add-shopping-cart.png" alt="">
                  </div>
              </div>
          `;
        });
      }

      function direction(data){
        
        document.getElementById("direction-cat").innerHTML = data.category + " >";
        document.getElementById("direction-subcat").innerHTML = data.subcategory + " >";
        document.getElementById("direction-name").innerHTML = data.name;
      }

      var ttt ;
      fetch(`/singleproduct?category=${thiscategory}&subcategory=${thissubcategory}&id=${thisid}`)
      .then((res)=>{
        return res.json()
      }).then((data)=>{
        ttt=data;
        if(data.status===200){
          loadproduct(data)
          direction(data.producttosend)
          loadsimilarproducts(data.otherproducttosend)
        }else{
          alert(data.message)
          window.history.back()
        }
      });


    </script>
    <script src="/js/general.js"></script>

  </body>
</html>
